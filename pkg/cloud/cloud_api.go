// Code generated by tutone: DO NOT EDIT
package cloud

import (
	"context"

	"github.com/newrelic/newrelic-client-go/pkg/errors"
)

// Create or modify a cloud integration.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudConfigureIntegration(
	accountID int,
	integrations CloudIntegrationsInput,
) (*CloudConfigureIntegrationPayload, error) {
	return a.CloudConfigureIntegrationWithContext(context.Background(),
		accountID,
		integrations,
	)
}

// Create or modify a cloud integration.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudConfigureIntegrationWithContext(
	ctx context.Context,
	accountID int,
	integrations CloudIntegrationsInput,
) (*CloudConfigureIntegrationPayload, error) {

	resp := CloudConfigureIntegrationQueryResponse{}
	vars := map[string]interface{}{
		"accountId":    accountID,
		"integrations": integrations,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, CloudConfigureIntegrationMutation, vars, &resp); err != nil {
		return nil, err
	}

	return &resp.CloudConfigureIntegrationPayload, nil
}

type CloudConfigureIntegrationQueryResponse struct {
	CloudConfigureIntegrationPayload CloudConfigureIntegrationPayload `json:"CloudConfigureIntegration"`
}

const CloudConfigureIntegrationMutation = `mutation(
	$accountId: Int!,
	$integrations: CloudIntegrationsInput!,
) { cloudConfigureIntegration(
	accountId: $accountId,
	integrations: $integrations,
) {
	errors {
		integrationSlug
		linkedAccountId
		message
		nrAccountId
		type
	}
	integrations {
		__typename
		createdAt
		id
		name
		nrAccountId
		updatedAt
		... on CloudAlbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			loadBalancerPrefixes
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudApigatewayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
			stagePrefixes
			tagKey
			tagValue
		}
		... on CloudAutoscalingIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsAppsyncIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsAthenaIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsCognitoIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsConnectIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsDirectconnectIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsDocdbIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsFsxIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsGlueIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsKinesisanalyticsIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMediaconvertIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMediapackagevodIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMetadataIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudAwsMqIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMskIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsNeptuneIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsQldbIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsRoute53resolverIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsStatesIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsTagsGlobalIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudAwsTransitgatewayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsWafIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsWafv2Integration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsXrayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAzureApimanagementIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureAppgatewayIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureAppserviceIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureContainersIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureCosmosdbIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureCostmanagementIntegration {
			__typename
			
			metricsPollingInterval
			tagKeys
		}
		... on CloudAzureDatafactoryIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureEventhubIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureExpressrouteIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFirewallsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFrontdoorIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFunctionsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureKeyvaultIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureLoadbalancerIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureLogicappsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMachinelearningIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMariadbIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMysqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzurePostgresqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzurePowerbidedicatedIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureRediscacheIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureServicebusIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureSqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureSqlmanagedIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureStorageIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVirtualmachineIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVirtualnetworksIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVmsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVpngatewaysIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudBaseIntegration {
			__typename
		}
		... on CloudBillingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudCloudfrontIntegration {
			__typename
			fetchLambdasAtEdge
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudCloudtrailIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudDynamodbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEbsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEc2Integration {
			__typename
			awsRegions
			fetchIpAddresses
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEcsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEfsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticacheIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticbeanstalkIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticsearchIntegration {
			__typename
			awsRegions
			fetchNodes
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudEmrIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudGcpAppengineIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpBigqueryIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpBigtableIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpComposerIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDataflowIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDataprocIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDatastoreIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasedatabaseIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasehostingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasestorageIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirestoreIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFunctionsIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpInterconnectIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpKubernetesIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpLoadbalancingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpMemcacheIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpPubsubIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpRedisIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpRouterIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpRunIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpSpannerIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpSqlIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpStorageIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpVmsIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpVpcaccessIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudHealthIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudIamIntegration {
			__typename
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudIotIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudKinesisFirehoseIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudKinesisIntegration {
			__typename
			awsRegions
			fetchShards
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudLambdaIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRdsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRedshiftIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRoute53Integration {
			__typename
			fetchExtendedInventory
			
			metricsPollingInterval
		}
		... on CloudS3Integration {
			__typename
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudSesIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudSnsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			
			metricsPollingInterval
		}
		... on CloudSqsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			queuePrefixes
			tagKey
			tagValue
		}
		... on CloudTrustedadvisorIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudVpcIntegration {
			__typename
			awsRegions
			fetchNatGateway
			fetchVpn
			
			metricsPollingInterval
			tagKey
			tagValue
		}
	}
} }`

// Disable a cloud integration. Stops collecting data for the specified integration.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudDisableIntegration(
	accountID int,
	integrations CloudDisableIntegrationsInput,
) (*CloudDisableIntegrationPayload, error) {
	return a.CloudDisableIntegrationWithContext(context.Background(),
		accountID,
		integrations,
	)
}

// Disable a cloud integration. Stops collecting data for the specified integration.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudDisableIntegrationWithContext(
	ctx context.Context,
	accountID int,
	integrations CloudDisableIntegrationsInput,
) (*CloudDisableIntegrationPayload, error) {

	resp := CloudDisableIntegrationQueryResponse{}
	vars := map[string]interface{}{
		"accountId":    accountID,
		"integrations": integrations,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, CloudDisableIntegrationMutation, vars, &resp); err != nil {
		return nil, err
	}

	return &resp.CloudDisableIntegrationPayload, nil
}

type CloudDisableIntegrationQueryResponse struct {
	CloudDisableIntegrationPayload CloudDisableIntegrationPayload `json:"CloudDisableIntegration"`
}

const CloudDisableIntegrationMutation = `mutation(
	$accountId: Int!,
	$integrations: CloudDisableIntegrationsInput,
) { cloudDisableIntegration(
	accountId: $accountId,
	integrations: $integrations,
) {
	disabledIntegrations {
		__typename
		createdAt
		id
		name
		nrAccountId
		updatedAt
		... on CloudAlbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			loadBalancerPrefixes
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudApigatewayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
			stagePrefixes
			tagKey
			tagValue
		}
		... on CloudAutoscalingIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsAppsyncIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsAthenaIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsCognitoIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsConnectIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsDirectconnectIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsDocdbIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsFsxIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsGlueIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsKinesisanalyticsIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMediaconvertIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMediapackagevodIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMetadataIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudAwsMqIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMskIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsNeptuneIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsQldbIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsRoute53resolverIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsStatesIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsTagsGlobalIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudAwsTransitgatewayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsWafIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsWafv2Integration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsXrayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAzureApimanagementIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureAppgatewayIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureAppserviceIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureContainersIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureCosmosdbIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureCostmanagementIntegration {
			__typename
			
			metricsPollingInterval
			tagKeys
		}
		... on CloudAzureDatafactoryIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureEventhubIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureExpressrouteIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFirewallsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFrontdoorIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFunctionsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureKeyvaultIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureLoadbalancerIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureLogicappsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMachinelearningIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMariadbIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMysqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzurePostgresqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzurePowerbidedicatedIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureRediscacheIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureServicebusIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureSqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureSqlmanagedIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureStorageIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVirtualmachineIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVirtualnetworksIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVmsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVpngatewaysIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudBaseIntegration {
			__typename
		}
		... on CloudBillingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudCloudfrontIntegration {
			__typename
			fetchLambdasAtEdge
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudCloudtrailIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudDynamodbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEbsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEc2Integration {
			__typename
			awsRegions
			fetchIpAddresses
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEcsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEfsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticacheIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticbeanstalkIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticsearchIntegration {
			__typename
			awsRegions
			fetchNodes
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudEmrIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudGcpAppengineIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpBigqueryIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpBigtableIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpComposerIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDataflowIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDataprocIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDatastoreIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasedatabaseIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasehostingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasestorageIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirestoreIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFunctionsIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpInterconnectIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpKubernetesIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpLoadbalancingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpMemcacheIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpPubsubIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpRedisIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpRouterIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpRunIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpSpannerIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpSqlIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpStorageIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpVmsIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpVpcaccessIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudHealthIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudIamIntegration {
			__typename
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudIotIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudKinesisFirehoseIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudKinesisIntegration {
			__typename
			awsRegions
			fetchShards
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudLambdaIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRdsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRedshiftIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRoute53Integration {
			__typename
			fetchExtendedInventory
			
			metricsPollingInterval
		}
		... on CloudS3Integration {
			__typename
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudSesIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudSnsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			
			metricsPollingInterval
		}
		... on CloudSqsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			queuePrefixes
			tagKey
			tagValue
		}
		... on CloudTrustedadvisorIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudVpcIntegration {
			__typename
			awsRegions
			fetchNatGateway
			fetchVpn
			
			metricsPollingInterval
			tagKey
			tagValue
		}
	}
	errors {
		integrationSlug
		linkedAccountId
		message
		nrAccountId
		type
	}
} }`

// Link a cloud provider account to a New Relic Account.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudLinkAccount(
	accountID int,
	accounts CloudLinkCloudAccountsInput,
) (*CloudLinkAccountPayload, error) {
	return a.CloudLinkAccountWithContext(context.Background(),
		accountID,
		accounts,
	)
}

// Link a cloud provider account to a New Relic Account.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudLinkAccountWithContext(
	ctx context.Context,
	accountID int,
	accounts CloudLinkCloudAccountsInput,
) (*CloudLinkAccountPayload, error) {

	resp := CloudLinkAccountQueryResponse{}
	vars := map[string]interface{}{
		"accountId": accountID,
		"accounts":  accounts,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, CloudLinkAccountMutation, vars, &resp); err != nil {
		return nil, err
	}

	return &resp.CloudLinkAccountPayload, nil
}

type CloudLinkAccountQueryResponse struct {
	CloudLinkAccountPayload CloudLinkAccountPayload `json:"CloudLinkAccount"`
}

const CloudLinkAccountMutation = `mutation(
	$accountId: Int!,
	$accounts: CloudLinkCloudAccountsInput!,
) { cloudLinkAccount(
	accountId: $accountId,
	accounts: $accounts,
) {
	errors {
		linkedAccountId
		message
		nrAccountId
		providerSlug
		type
	}
	linkedAccounts {
		authLabel
		createdAt
		disabled
		externalId
		id
		metricCollectionMode
		name
		nrAccountId
		updatedAt
	}
} }`

// Rename one or more linked cloud provider accounts.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudRenameAccount(
	accountID int,
	accounts []CloudRenameAccountsInput,
) (*CloudRenameAccountPayload, error) {
	return a.CloudRenameAccountWithContext(context.Background(),
		accountID,
		accounts,
	)
}

// Rename one or more linked cloud provider accounts.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudRenameAccountWithContext(
	ctx context.Context,
	accountID int,
	accounts []CloudRenameAccountsInput,
) (*CloudRenameAccountPayload, error) {

	resp := CloudRenameAccountQueryResponse{}
	vars := map[string]interface{}{
		"accountId": accountID,
		"accounts":  accounts,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, CloudRenameAccountMutation, vars, &resp); err != nil {
		return nil, err
	}

	return &resp.CloudRenameAccountPayload, nil
}

type CloudRenameAccountQueryResponse struct {
	CloudRenameAccountPayload CloudRenameAccountPayload `json:"CloudRenameAccount"`
}

const CloudRenameAccountMutation = `mutation(
	$accountId: Int!,
	$accounts: [CloudRenameAccountsInput!]!,
) { cloudRenameAccount(
	accountId: $accountId,
	accounts: $accounts,
) {
	errors {
		linkedAccountId
		message
		nrAccountId
		providerSlug
		type
	}
	linkedAccounts {
		authLabel
		createdAt
		disabled
		externalId
		id
		metricCollectionMode
		name
		nrAccountId
		updatedAt
	}
} }`

// Unlink one or more cloud provider accounts.
// Stops collecting data for all the associated integrations.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudUnlinkAccount(
	accountID int,
	accounts []CloudUnlinkAccountsInput,
) (*CloudUnlinkAccountPayload, error) {
	return a.CloudUnlinkAccountWithContext(context.Background(),
		accountID,
		accounts,
	)
}

// Unlink one or more cloud provider accounts.
// Stops collecting data for all the associated integrations.
//
// For details and mutation examples visit
// [our docs](https://docs.newrelic.com/docs/apis/graphql-api/tutorials/manage-your-aws-azure-google-cloud-integrations-graphql-api).
func (a *Cloud) CloudUnlinkAccountWithContext(
	ctx context.Context,
	accountID int,
	accounts []CloudUnlinkAccountsInput,
) (*CloudUnlinkAccountPayload, error) {

	resp := CloudUnlinkAccountQueryResponse{}
	vars := map[string]interface{}{
		"accountId": accountID,
		"accounts":  accounts,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, CloudUnlinkAccountMutation, vars, &resp); err != nil {
		return nil, err
	}

	return &resp.CloudUnlinkAccountPayload, nil
}

type CloudUnlinkAccountQueryResponse struct {
	CloudUnlinkAccountPayload CloudUnlinkAccountPayload `json:"CloudUnlinkAccount"`
}

const CloudUnlinkAccountMutation = `mutation(
	$accountId: Int!,
	$accounts: [CloudUnlinkAccountsInput],
) { cloudUnlinkAccount(
	accountId: $accountId,
	accounts: $accounts,
) {
	errors {
		linkedAccountId
		message
		nrAccountId
		providerSlug
		type
	}
	unlinkedAccounts {
		authLabel
		createdAt
		disabled
		externalId
		id
		metricCollectionMode
		name
		nrAccountId
		updatedAt
	}
} }`

// Get one linked provider account.
func (a *Cloud) GetLinkedAccount(
	accountID int,
	iD int,
) (*CloudLinkedAccount, error) {
	return a.GetLinkedAccountWithContext(context.Background(),
		accountID,
		iD,
	)
}

// Get one linked provider account.
func (a *Cloud) GetLinkedAccountWithContext(
	ctx context.Context,
	accountID int,
	iD int,
) (*CloudLinkedAccount, error) {

	resp := linkedAccountResponse{}
	vars := map[string]interface{}{
		"accountID": accountID,
		"id":        iD,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, getLinkedAccountQuery, vars, &resp); err != nil {
		return nil, err
	}

	return &resp.Actor.Account.Cloud.LinkedAccount, nil
}

const getLinkedAccountQuery = `query(
	$accountID: Int!,
	$id: Int,
) {
  actor {
    account(id: $accountID) {
      cloud {
        linkedAccount(id: $id) {
          authLabel
          createdAt
          disabled
          externalId
          id
          integrations {
            createdAt
            id
            linkedAccount {
              authLabel
              createdAt
              disabled
              externalId
              id
              metricCollectionMode
              name
              nrAccountId
              updatedAt
            }
            name
            nrAccountId
            service {
              createdAt
              icon
              id
              isEnabled
              name
              slug
              updatedAt
            }
            updatedAt
            ... on CloudAlbIntegration {
              awsRegions
              fetchExtendedInventory
              fetchTags
              loadBalancerPrefixes
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudApigatewayIntegration {
              awsRegions
              metricsPollingInterval
              stagePrefixes
              tagKey
              tagValue
            }
            ... on CloudAutoscalingIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsAppsyncIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsAthenaIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsCognitoIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsConnectIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsDirectconnectIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsDocdbIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsFsxIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsGlueIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsKinesisanalyticsIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsMediaconvertIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsMediapackagevodIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsMetadataIntegration {
              metricsPollingInterval
            }
            ... on CloudAwsMqIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsMskIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsNeptuneIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsQldbIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsRoute53resolverIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsStatesIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsTagsGlobalIntegration {
              metricsPollingInterval
            }
            ... on CloudAwsTransitgatewayIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsWafIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsWafv2Integration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAwsXrayIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudAzureApimanagementIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureAppgatewayIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureAppserviceIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureContainersIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureCosmosdbIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureCostmanagementIntegration {
              metricsPollingInterval
              tagKeys
            }
            ... on CloudAzureDatafactoryIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureEventhubIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureExpressrouteIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureFirewallsIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureFrontdoorIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureFunctionsIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureKeyvaultIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureLoadbalancerIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureLogicappsIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureMachinelearningIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureMariadbIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureMysqlIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzurePostgresqlIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzurePowerbidedicatedIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureRediscacheIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureServicebusIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureSqlIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureSqlmanagedIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureStorageIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureVirtualmachineIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureVirtualnetworksIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureVmsIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudAzureVpngatewaysIntegration {
              metricsPollingInterval
              resourceGroups
            }
            ... on CloudBillingIntegration {
              metricsPollingInterval
            }
            ... on CloudCloudfrontIntegration {
              fetchLambdasAtEdge
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudCloudtrailIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudDynamodbIntegration {
              awsRegions
              fetchExtendedInventory
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudEbsIntegration {
              awsRegions
              fetchExtendedInventory
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudEc2Integration {
              awsRegions
              fetchIpAddresses
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudEcsIntegration {
              awsRegions
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudEfsIntegration {
              awsRegions
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudElasticacheIntegration {
              awsRegions
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudElasticbeanstalkIntegration {
              awsRegions
              fetchExtendedInventory
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudElasticsearchIntegration {
              awsRegions
              fetchNodes
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudElbIntegration {
              awsRegions
              fetchExtendedInventory
              fetchTags
              metricsPollingInterval
            }
            ... on CloudEmrIntegration {
              awsRegions
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudGcpAppengineIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpBigqueryIntegration {
              fetchTags
              metricsPollingInterval
            }
            ... on CloudGcpBigtableIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpComposerIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpDataflowIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpDataprocIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpDatastoreIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpFirebasedatabaseIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpFirebasehostingIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpFirebasestorageIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpFirestoreIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpFunctionsIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpInterconnectIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpKubernetesIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpLoadbalancingIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpMemcacheIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpPubsubIntegration {
              fetchTags

              metricsPollingInterval
            }
            ... on CloudGcpRedisIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpRouterIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpRunIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpSpannerIntegration {
              fetchTags
              metricsPollingInterval
            }
            ... on CloudGcpSqlIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpStorageIntegration {
              fetchTags
              metricsPollingInterval
            }
            ... on CloudGcpVmsIntegration {
              metricsPollingInterval
            }
            ... on CloudGcpVpcaccessIntegration {
              metricsPollingInterval
            }
            ... on CloudHealthIntegration {
              metricsPollingInterval
            }
            ... on CloudIamIntegration {
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudIotIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudKinesisFirehoseIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudKinesisIntegration {
              awsRegions
              fetchShards
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudLambdaIntegration {
              awsRegions
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudRdsIntegration {
              awsRegions
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudRedshiftIntegration {
              awsRegions
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudRoute53Integration {
              fetchExtendedInventory
              metricsPollingInterval
            }
            ... on CloudS3Integration {
              fetchExtendedInventory
              fetchTags
              metricsPollingInterval
              tagKey
              tagValue
            }
            ... on CloudSesIntegration {
              awsRegions
              metricsPollingInterval
            }
            ... on CloudSnsIntegration {
              awsRegions
              fetchExtendedInventory
              metricsPollingInterval
            }
            ... on CloudSqsIntegration {
              awsRegions
              fetchExtendedInventory
              fetchTags
              metricsPollingInterval
              queuePrefixes
              tagKey
              tagValue
            }
            ... on CloudTrustedadvisorIntegration {
              metricsPollingInterval
            }
            ... on CloudVpcIntegration {
              awsRegions
              fetchNatGateway
              fetchVpn
              metricsPollingInterval
              tagKey
              tagValue
            }
          }
          metricCollectionMode
          name
          nrAccountId
          provider {
            createdAt
            icon
            id
            name
            services {
              createdAt
              icon
              id
              isEnabled
              name
              slug
              updatedAt
            }
            slug
            updatedAt
            ... on CloudAwsGovCloudProvider {
              awsAccountId
            }
            ... on CloudAwsProvider {
              roleAccountId
              roleExternalId
            }
            ... on CloudGcpProvider {
              serviceAccountId
            }
          }
          updatedAt
        }
      }
    }
  }
}
`

// Get all linked cloud provider accounts scoped to the Actor.
func (a *Cloud) GetLinkedAccounts(
	provider string,
) (*[]CloudLinkedAccount, error) {
	return a.GetLinkedAccountsWithContext(context.Background(),
		provider,
	)
}

// Get all linked cloud provider accounts scoped to the Actor.
func (a *Cloud) GetLinkedAccountsWithContext(
	ctx context.Context,
	provider string,
) (*[]CloudLinkedAccount, error) {

	resp := linkedAccountsResponse{}
	vars := map[string]interface{}{
		"provider": provider,
	}

	if err := a.client.NerdGraphQueryWithContext(ctx, getLinkedAccountsQuery, vars, &resp); err != nil {
		return nil, err
	}

	if len(resp.Actor.Cloud.LinkedAccounts) == 0 {
		return nil, errors.NewNotFound("")
	}

	return &resp.Actor.Cloud.LinkedAccounts, nil
}

const getLinkedAccountsQuery = `query(
	$provider: String,
) { actor { cloud { linkedAccounts(
	provider: $provider,
) {
	authLabel
	createdAt
	disabled
	externalId
	id
	integrations {
		__typename
		createdAt
		id
		linkedAccount {
			authLabel
			createdAt
			disabled
			externalId
			id
			metricCollectionMode
			name
			nrAccountId
			updatedAt
		}
		name
		nrAccountId
		service {
			createdAt
			icon
			id
			isEnabled
			name
			slug
			updatedAt
		}
		updatedAt
		... on CloudAlbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			loadBalancerPrefixes
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudApigatewayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
			stagePrefixes
			tagKey
			tagValue
		}
		... on CloudAutoscalingIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsAppsyncIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsAthenaIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsCognitoIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsConnectIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsDirectconnectIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsDocdbIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsFsxIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsGlueIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsKinesisanalyticsIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMediaconvertIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMediapackagevodIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMetadataIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudAwsMqIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsMskIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsNeptuneIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsQldbIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsRoute53resolverIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsStatesIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsTagsGlobalIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudAwsTransitgatewayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsWafIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsWafv2Integration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAwsXrayIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudAzureApimanagementIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureAppgatewayIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureAppserviceIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureContainersIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureCosmosdbIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureCostmanagementIntegration {
			__typename
			
			metricsPollingInterval
			tagKeys
		}
		... on CloudAzureDatafactoryIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureEventhubIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureExpressrouteIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFirewallsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFrontdoorIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureFunctionsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureKeyvaultIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureLoadbalancerIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureLogicappsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMachinelearningIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMariadbIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureMysqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzurePostgresqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzurePowerbidedicatedIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureRediscacheIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureServicebusIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureSqlIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureSqlmanagedIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureStorageIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVirtualmachineIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVirtualnetworksIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVmsIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudAzureVpngatewaysIntegration {
			__typename
			
			metricsPollingInterval
			resourceGroups
		}
		... on CloudBaseIntegration {
			__typename
		}
		... on CloudBillingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudCloudfrontIntegration {
			__typename
			fetchLambdasAtEdge
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudCloudtrailIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudDynamodbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEbsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEc2Integration {
			__typename
			awsRegions
			fetchIpAddresses
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEcsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudEfsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticacheIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticbeanstalkIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElasticsearchIntegration {
			__typename
			awsRegions
			fetchNodes
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudElbIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudEmrIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudGcpAppengineIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpBigqueryIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpBigtableIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpComposerIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDataflowIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDataprocIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpDatastoreIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasedatabaseIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasehostingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirebasestorageIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFirestoreIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpFunctionsIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpInterconnectIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpKubernetesIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpLoadbalancingIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpMemcacheIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpPubsubIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpRedisIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpRouterIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpRunIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpSpannerIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpSqlIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpStorageIntegration {
			__typename
			fetchTags
			
			metricsPollingInterval
		}
		... on CloudGcpVmsIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudGcpVpcaccessIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudHealthIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudIamIntegration {
			__typename
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudIotIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudKinesisFirehoseIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudKinesisIntegration {
			__typename
			awsRegions
			fetchShards
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudLambdaIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRdsIntegration {
			__typename
			awsRegions
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRedshiftIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudRoute53Integration {
			__typename
			fetchExtendedInventory
			
			metricsPollingInterval
		}
		... on CloudS3Integration {
			__typename
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			tagKey
			tagValue
		}
		... on CloudSesIntegration {
			__typename
			awsRegions
			
			metricsPollingInterval
		}
		... on CloudSnsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			
			metricsPollingInterval
		}
		... on CloudSqsIntegration {
			__typename
			awsRegions
			fetchExtendedInventory
			fetchTags
			
			metricsPollingInterval
			queuePrefixes
			tagKey
			tagValue
		}
		... on CloudTrustedadvisorIntegration {
			__typename
			
			metricsPollingInterval
		}
		... on CloudVpcIntegration {
			__typename
			awsRegions
			fetchNatGateway
			fetchVpn
			
			metricsPollingInterval
			tagKey
			tagValue
		}
	}
	metricCollectionMode
	name
	nrAccountId
	provider {
		__typename
		createdAt
		icon
		id
		name
		services {
			createdAt
			icon
			id
			isEnabled
			name
			slug
			updatedAt
		}
		slug
		updatedAt
		... on CloudAwsGovCloudProvider {
			__typename
			awsAccountId
		}
		... on CloudAwsProvider {
			__typename
			roleAccountId
			roleExternalId
		}
		... on CloudBaseProvider {
			__typename
		}
		... on CloudGcpProvider {
			__typename
			serviceAccountId
		}
	}
	updatedAt
} } } }`
